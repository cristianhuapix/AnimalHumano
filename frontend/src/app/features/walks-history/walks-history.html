<div class="walks-history-container">
  <div class="header">
    <div class="header-left">
      <button (click)="goBack()" class="btn-back">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18-6-6 6-6"></path>
        </svg>
      </button>
      <h1>Paseos de Mascotas</h1>
    </div>
  </div>

  @if (isLoading()) {
    <div class="loading">Cargando...</div>
  }

  @if (errorMessage()) {
    <div class="error-message">{{ errorMessage() }}</div>
  }

  @if (walks().length === 0 && !isLoading()) {
    <div class="empty-state">
      <div class="empty-icon">üêï‚Äçü¶∫</div>
      <h2>Sin paseos registrados</h2>
      <p>A√∫n no hay paseos registrados para tus mascotas.</p>
    </div>
  } @else if (!isLoading()) {
    <div class="table-container">
      <table class="walks-table">
        <thead>
          <tr>
            <th>Mascota</th>
            <th>Paseador</th>
            <th>Fecha</th>
            <th>Notas</th>
          </tr>
        </thead>
        <tbody>
          @for (walk of walks(); track walk.id) {
            <tr>
              <td>{{ walk.pets?.name || 'N/A' }}</td>
              <td>{{ walk.walker?.profile?.full_name || 'N/A' }}</td>
              <td>{{ formatDate(walk.created_at) }}</td>
              <td class="notes-cell">{{ walk.notes || '-' }}</td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- Paginaci√≥n -->
    @if (totalPages() > 1) {
      <div class="pagination">
        <button
          (click)="prevPage()"
          [disabled]="currentPage() === 1"
          class="pagination-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m15 18-6-6 6-6"></path>
          </svg>
        </button>

        <span class="pagination-info">
          P√°gina {{ currentPage() }} de {{ totalPages() }}
        </span>

        <button
          (click)="nextPage()"
          [disabled]="currentPage() === totalPages()"
          class="pagination-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m9 18 6-6-6-6"></path>
          </svg>
        </button>
      </div>
    }
  }
</div>
